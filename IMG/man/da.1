.TH DA 1 "MIDI"
.SH NAME
da - disassemble MIDI command streams
.SH SYNOPSIS
.B da
[\fB-m\fR n]
[\fB-rdtBT\fR]
[\fBfiles\fP or \fBstdin\fR]
.SH DESCRIPTION
.I Da 
reads MIDI command streams
(e.g., as generated by \fIrecord\fP(1))
and prints a disassembly on the standard output.
This contains the raw midi command in (typically) four columns.
The first field is the MPU-401 timetag, next is the MIDI command,
and any remaining are arguments to the MIDI command.
It then prints ``;'' followed by 
the accumulated time in seconds (or tics, if \fB-T\fP), 
a command count, a mnemonic for the
MIDI command, the values of its arguments,
and a verbose description of the command.

.I Da 
also parses various MIDI channel controller commands,
and system exclusive commands.
As of this writing (10/87), the devices specifically known are:
Yamaha DX7,
Ensoniq Mirage,
Iota Systems Midi-Fader,
and
generic Yamaha devices.
System exclusive messages for devices other than these will be listed
in hex, but not interpreted.
System exclusive format is much like that for MIDI command streams
except:
(1) there are no MPU time-tags, so the first two columns of
each line are blank
(and there is no absolute accumulated time on each line),
and
(2) as many as 32 data may appear on a line, and there need not be any
semicolon if there is no interpretation or other explanatory material
on the line.
In particular, all the system exclusive data is printed in hexadecimal
with no leading ``0x'', and anything other than the hex data is preceded
on the line by a semicolon.  Thus a program like axtobb(1) can be used
to reconstruct the original MIDI file.
.IP "-t \fIn\fP"
set time analysis tempo to \fIn\fP beats/minute.
.IP "-B \fIn\fP"
set time base to \fIn\fP (ticks/second, default = 120).
.IP "-T"
print time in tics (default is seconds).
.IP "-m \fIn\fP"
set manufacturer's id number to \fIn\fP.
.IP "-r"
read raw MIDI data, without MPU-401 time tags
.IP "-d"
print time tags in decimal (not hex).
.SH SEE ALSO
axtobb(1), bbtoax(1), mpumon(1), record(1), play(1), ra(1)
.br
\fIRoland MPU-401 Technical Reference Manual\fP.
.SH NOTES
The formula for establishing the rate of clock periods is
.RS .5i
secs/period=1sec/TIME_BASE*TICS_PER_PERIOD*60beats/min*1min/TEMPO,
.RE
where TICS_PER_PERIOD=240.
By default, the MPU-401 uses a
TIME_BASE=120 ticks/second, and TEMPO=100 beats/minute.
Using the default tempo of \fImm\fP=100, the MPU-401
clock overflow indicator, 0xf8, which comes every 240 ticks,
occurs every 1.2 seconds.
The number of ticks per second can be derived from this as:
.RS .5i
ticks/second=TIME_BASE*TEMPO/60.
.RE
.SH AUTHOR
Gareth Loy, Michael Hawley, Peter Langston
